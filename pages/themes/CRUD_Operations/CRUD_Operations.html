<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>CRUD_Operations</title>
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
	<link rel="icon" type="image/x-icon" href="../../../outfit/images/favicons/mysql_logo.png">
	<!-- css & themes include -->
	<link rel="stylesheet" href="../../../lib/reveal.js/css/reveal.css">
	<link rel="stylesheet" href="../../../outfit/css/themes/light.css" id="theme">
	<!-- Printing and PDF exports -->
	<script>
		var link = document.createElement( 'link' );
		link.rel = 'stylesheet';
		link.type = 'text/css';
		link.href = window.location.search.match( /print-pdf/gi ) ? '../../../lib/reveal.js/css/print/pdf.css' : '../../../lib/reveal.js/css/print/paper.css';
		document.getElementsByTagName( 'head' )[0].appendChild( link );
	</script>
	<!--[if lt IE 9]>
	<script src="lib/js/html5shiv.js"></script>
	<![endif]-->
	<!-- custom -->
	<link rel="stylesheet" href="../../../outfit/css/reveal.js.css">
	<base target="_blank">
</head>
<body>
	<div class="reveal default center" data-transition-speed="default" data-background-transition="default">
		<div class="top_links">
			<a class="home_link" href="../../../index.html#CRUD_Operations" target="_top"><i class="fa fa-home"></i></a>
			<span class="help_link"><i class="fa fa-question"></i></span>
			<div class="help_text">
				<div class="note">Keyboard shortcuts:</div>
				<div><span>N/Спейс</span><span>Next Slide</span></div>
				<div><span>P</span><span>Previous Slide</span></div>
				<div><span>O</span><span>Slides Overview</span></div>
				<div><span>ctrl+left click</span><span>Zoom Element</span></div>
				<div class="print-howto"><br>If you want print version => add '<code>?print-pdf</code>' <br> at the end of slides URL (remove '#' fragment) and then print. <br>
				Like: https://wwwcourses.github.io/...CourseIntro.html?print-pdf </div>
			</div>
		</div>
		<div class="footer theme_switch">
			<a href="#" onclick="document.getElementById('theme').setAttribute('href','../../../outfit/css/themes/dark.css'); return false;">Dark</a>
			<a href="#" onclick="document.getElementById('theme').setAttribute('href','../../../outfit/css/themes/light.css'); return false;">Light</a>
			<!-- <a href="#" onclick="document.getElementById('theme').setAttribute('href','../../../outfit/css/themes/projector.css'); return false;">Projector</a> -->
		</div>
		<div class="slides">
<!--
########################################################
##################### SLIDES START #####################
########################################################
-->
<section><h1>MySQL CRUD Operations</h1></section>
<section data-transition="zoom">
	<section>
		<div class="copyright">
			<div class="note">
				<p>Created for</p>
			</div>
			<div class="company">
				<a href="https://progressbg.net/javascript-advanced-with-reactjs/">
				<img src="../../../outfit/images/logos/ProgressBG_logo_529_127.png" alt="ProgressBG_logo">
				</a>
			</div>
		</div>
	</section>
	<section class="copyright" data-transition="zoom" style="margin-top: -2em;">
		<div class="note">
			<p>Created by</p>
		</div>
		<div class="company">
		   <div class="LI-profile-badge"  data-version="v1" data-size="large" data-locale="en_US" data-type="vertical" data-theme="dark" data-vanity="ivapopova"><a class="LI-simple-link" href="https://bg.linkedin.com/in/ivapopova?trk=profile-badge">Iva E. Popova</a></div>
		</div>
		<!-- <div class="author">
			<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a>
		</div> -->
	</section>
</section>


<section data-min="5"><h1>Overview</h1></section>
<section><h2>Overview</h2>
	<section><h3>CRUD</h3>
		<p>CRUD is an acronym for the four most basic operations that can be performed with a database systems and they are the backbone for interacting with any database. </p>
		<dl class="fa" style="font-size: 1.5em;">
			<dt><span class="note">C</span> -> <span>Create (Insert)</span></dt>
			<dt><span class="note">R</span> -> <span>Read (Select)</span></dt>
			<dt><span class="note">U</span> -> <span>Update (Update)</span></dt>
			<dt><span class="note">D</span> -> <span>Delete (Delete)</span></dt>
		</dl>
	</section>
	<section><h3>Prerequisites</h3>
		<dl>In next slides 2 DB are used:</dl>
		<dt><a href="https://github.com/WWWCourses/MySQL_DCA/blob/gh-pages/pages/DB_Dumps/music_db/music_db_schema.sql">music_db_schema.sql</a></dt>
		<dt><a href="https://github.com/WWWCourses/MySQL_DCA/blob/gh-pages/pages/DB_Dumps/test_db-master/employees.sql">Sample employee database</a></dt>
	</section>
</section>

<section class="sub-sections"><h1>INSERT</h1></section>
<section class="sub-sections"><h2>INSERT</h2>
    <section><h3>The syntax</h3>
        <dl class="fa">
			<pre><code rel="Syntax" class=""></code>
				INSERT INTO table_name [(column, ...)]
				VALUES (value, ...)[, (...), ...];
			</code></pre>
            <dt>Column list is optional!</dt>
                <dd>If not present, you should list in VALUES values for all columns, following the order in table definition.</dd>
            <dt>You can insert more than 1 row at a time, by using a list of values arrays.</dt>
        </dl>
    </section>
    <section><h3>Examples</h3>
		<dl class="fa">
			<dt>Without specifying columns</dt>
			<pre><code rel="MySQL">
				INSERT INTO artist
				VALUES (30,'Robert', 'Smith');
				-- Query OK, 1 row affected
			</code></pre>
			<dt>But next statement will raise an Eror:</dt>
			<pre><code rel="MySQL">
				INSERT INTO artist
				VALUES ('Madonna');
				-- ERROR:(1136, "Column count doesn't match value count at row 1")
			</code></pre>
			<dt>With explicit column specification</dt>
			<pre><code rel="MySQL">
				INSERT INTO artist(lname)
				VALUES ('Piazzolla');

				--Query OK, 1 row affected
			</code></pre>
		</dl>
    </section>
    <section><h3>Examples</h3>
         <p>Insert more than 1 row at a time</p>
        <pre><code rel="MySQL" class="sql">
			INSERT INTO artist( lname, fname )
			VALUES
			INSERT INTO artist( lname, fname ) VALUES
				( 'Schnittke', 'Alfred' ),
				( 'Pärt', 'Arvo' ),
				( 'Shostakovich', 'Dmitri' ),
				( 'Smith', 'Robert'),
				( 'Gallup', 'Simon'),
				( 'O\'Donnell', 'Roger '),
				( 'Gahan', 'Dave' ),
				( 'Gore', 'Martin' ),
				( 'Fletcher', 'Andy' ),
				( 'Wilder', 'Alan ' );

			Query OK, 10 rows affected
        </code></pre>
    </section>
</section>


<section class="sub-sections"><h1>SELECT</h1></section>
<section class="sub-sections"><h2>SELECT</h2>
	<section><h3>Syntax</h3>
		<pre><code rel="Basic Syntax" class="bash">
			SELECT [select_option]
			select_expressions
			[
				FROM table_references
					[WHERE where_condition]
					[GROUP BY {col_name | expr | position}]
					[ORDER BY {col_name | expr | position} [ASC | DESC]]
					[LIMIT {[offset,] row_count | row_count OFFSET offset}]
					[into_option]
			]
		</code></pre>
		<dl class="fa">
			<dt>Reference: <a href="https://dev.mysql.com/doc/refman/8.0/en/select.html">SELECT Statement</a></dt>
			<dt>WHERE clause requires at least one condition. If multiple conditions are needed, connect them using AND or OR logic operators.</dt>
			<dt><a href="http://dev.mysql.com/doc/refman/8.0/en/comparison-operators.html">Comparison Functions and Operators</a> to use in <span class="impotant">WHERE Clause</span></dt>
		</dl>
	</section>
	<section><h3>Examples</h3>
		<pre><code rel="mysql" class="sql" style="min-height: 70vh;">
			-- select all data:
			SELECT * FROM artist;
			+-----------+--------+--------------+
			| artist_id | fname  | lname        |
			+-----------+--------+--------------+
			| 1         | Alfred | Schnittke    |
			| 2         | Arvo   | Pärt         |
			| 3         | Dmitri | Shostakovich |
			+-----------+--------+--------------+

			-- select only 2 columns:
			SELECT lname, fname FROM artist;
			+--------------+--------+
			| lname        | fname  |
			+--------------+--------+
			| Schnittke    | Alfred |
			| Pärt         | Arvo   |
			| Shostakovich | Dmitri |
			+--------------+--------+
		</code></pre>
	</section>
	<section><h3>Select expression</h3>
		<dl class="fa">
			<dt>In select_expression beside columns list, we can use MySQl build-in function ans operators</dt>
			<dt>Reference: <a href="https://dev.mysql.com/doc/refman/8.0/en/built-in-function-reference.html">Built-In Function and Operator Reference
			</a></dt>
			<pre><code rel="MySQL" class="sql">
				SELECT 2+3;
				-- 5

				SELECT CONCAT(fname,' ',lname) FROM artist;
				+-------------------------+
				| CONCAT(fname,' ',lname) |
				+-------------------------+
				| Alfred Schnittke        |
				| Arvo Pärt               |
				| Dmitri Shostakovich     |
				+-------------------------+
			</code></pre>
			<dt>We can also give select_expression an alias:</dt>
			<pre><code rel="MySQL" class="sql">
				SELECT CONCAT(fname,' ',lname) AS artist_name FROM artist;
				+---------------------+
				| artist_name         |
				+---------------------+
				| Alfred Schnittke    |
				| Arvo Pärt           |
				| Dmitri Shostakovich |
				+---------------------+

			</code></pre>
		</dl>
	</section>
	<section><h3>WHERE clause</h3>
		<dl class="fa">
			<pre><code rel="Syntax" class="sql">
				SELECT * FROM tableName WHERE where_condition;
			</code></pre>
			<dt>The WHERE clause, if given, indicates the condition or conditions that rows must satisfy to be selected</dt>
			<dt><i>where_condition</i> is an expression that evaluates to true for each row to be selected</dt>
			<dt>If there is no WHERE clause all rows will be selected.</dt>
			<dt>In the <i>where_condition</i>, you can use any of the <a href="https://dev.mysql.com/doc/refman/8.0/en/functions.html">functions and operators</a> that MySQL supports, except for aggregate (group) functions</dt>
			<pre><code rel="MySQL" class="sql">
				-- select only artist which fname starts with 'A':
				SELECT * FROM artist WHERE fname LIKE 'A%';
				+-----------+--------+-----------+
				| artist_id | fname  | lname     |
				+-----------+--------+-----------+
				| 1         | Alfred | Schnittke |
				| 2         | Arvo   | Pärt      |
				+-----------+--------+-----------+
			</code></pre>
		</dl>
	</section>
	<section><h3>WHERE clause with logical operators</h3>
		<dl class="fa">
			<dt><code>SELECT * FROM tbl_name WHERE condition1 AND condition2;</code></dt>
			<dd>Only rows for which ALL of the conditions are true will be selected:</dd>
			<pre><code rel="MySQL" class="sql">
				SELECT * FROM employees WHERE hire_date>'2000-01-01' AND gender='M';
			</code></pre>

			<dt><code>SELECT * FROM tbl_name WHERE condition1 OR condition2;</code></dt>
			<dd>Only rows for which ANY of the conditions is true will be selected:</dd>
			<pre><code rel="MySQL" class="sql">
				SELECT * FROM employees WHERE hire_date>'2000-01-01' OR gender='M';
			</code></pre>

			<dt><code>SELECT * FROM tbl_name WHERE NOT condition</code></dt>
			<dd>Only rows for which condition is NOT true will be selected:</dd>
			<pre><code rel="MySQL" class="sql">
				-- select all non mail employees:
				SELECT * FROM employees WHERE NOT gender='M';
			</code></pre>
		</dl>
	</section>
	<section><h3>ORDER BY clause</h3>
		<dl class="fa">
			<pre><code rel="Syntax" class="sql">
				SELECT * FROM tbl_name ORDER BY col_names [ASC|DESC]
			</code></pre>
			<dt>The ORDER BY clause is used to sort the result-set in ascending (default) or descending order.</dt>
			<pre><code rel="MySQL" class="sql">
				-- sort employees by first_name, ascending
				SELECT * FROM employees ORDER BY last_name;

				-- sort employees by first_name, descending
				SELECT * FROM employees ORDER BY last_name DESC;
			</code></pre>
		</dl>
	</section>
	<section><h3>LIMIT clause</h3>
		<dl class="fa">
			<dt>The LIMIT clause is used to limit the number of records to return</dt>
			<pre><code rel="MySQL" class="sql">
				SELECT * FROM tbl_name LIMIT number
			</code></pre>
			<pre><code rel="MySQL" class="sql">
				-- select the first 10 rows
				SELECT * FROM employees LIMIT 10;
			</code></pre>
		</dl>
	</section>
	<section><h3>GROUP BY clause</h3>
		<dl class="fa">
			<dt>The GROUP BY statement groups rows that have the same values into summary rows, like "find the number of customers in each country"</dt>
			<pre><code rel="syntax" class="sql">
				SELECT * FROM tbl_name GROUP BY {col_name | expr | position}
			</code></pre>
			<dt>The GROUP BY statement is often used with aggregate functions (COUNT(), MAX(), MIN(), SUM(), AVG()) to group the result-set by one or more columns.</dt>
			<dt>The GROUP BY clause returns one row for each group</dt>
			<pre><code rel="MySQL" class="sql">
				-- find count of male/female employees
				SELECT count(gender) FROM employees GROUP BY gender;

				-- count employees with same first_name, sorted descending
				SELECT COUNT(emp_no), first_name FROM employees GROUP BY first_name;
			</code></pre>
		</dl>
	</section>
	<section><h3>Using more than one table</h3>
		<dl class="fa">
			<dt>We can use SELECT statement on more than one table</dt>
			<pre><code rel="MySQL" class="sql">
				SELECT first_name, last_name, salary FROM employees.employees,employees.salaries WHERE employees.emp_no=salaries.emp_no LIMIT 10
			</code></pre>
		</dl>
	</section>
</section>

<section class="sub-sections"><h1>DELETE</h1></section>
<section class="sub-sections"><h2>DELETE</h2>
    <section>
        <dl class="fa">
			<dt>The DELETE statement is used to delete existing records in a table.</dt>
			<pre><code rel="Syntax">
				DELETE FROM table_name
				[WHERE where_condition]
				[ORDER BY ...]
				[LIMIT row_count]
			</code></pre>
            <dt>The conditions in the optional WHERE clause identify which rows to delete. With no WHERE clause, <span class="note">all rows are deleted</span>.</dt>
			<pre><code rel="MySQL" class="sql">
				DELETE FROM artist WHERE
					artist_id BETWEEN 1 AND 5;
			</code>
				Query OK, 5 rows affected
			</pre>
            <dt>The LIMIT clause places a limit on the number of rows that can be deleted.</dt>
            <dt>If the ORDER BY clause is specified, the rows are deleted in the order that is specified.</dt>
        </dl>
    </section>
</section>

<section class="sub-sections"><h1>UPDATE</h1></section>
<section class="sub-sections"><h2>UPDATE</h2>
    <section><h3>The Syntax</h3>
        <dl class="fa">
			<dt>The UPDATE statement is used to modify the existing records in a table.</dt>
			<pre><code rel="Syntax" class="sql">
				UPDATE table_name
				SET column1=value, column2=value2,...
				[WHERE where_clause]
				[ORDER BY ...]
				[LIMIT row_count]
			</code></pre>
			<dt>The WHERE clause, if given, specifies the conditions that identify which rows to update</dt>
			<dd>With no WHERE clause, all rows are updated!</dd>
			<pre><code rel="MySQL" class="sql">
				UPDATE artist SET fname='David' WHERE fname='Dave';

				-- Query OK, 1 rows affected
			</code></pre>
			<dt>If the ORDER BY clause is specified, the rows are updated in the order that is specified.</dt>
			<dt>The LIMIT clause places a limit on the number of rows that can be updated.</dt>
        </dl>
	</section>
</section>




<section data-min="1" id='hw'><h1>Exercises</h1></section>
<section><h2>books_db tasks</h2>
	<section><h3>Get the DB</h3>
		<dl class="fa">
			<dt>Load books_db and the sample data:</dt>
			<dd><a href="https://github.com/WWWCourses/MySQL_DCA/blob/gh-pages/pages/DB_Dumps/books_db/books_db_schema.sql">books_db_schema.sql</a></dd>
			<dd><a href="https://github.com/WWWCourses/MySQL_DCA/blob/gh-pages/pages/DB_Dumps/books_db/books_db_sample_data.sql">books_db_sample_data.sql</a></dd>
		</dl>
	</section>
	<section><h3>Task 1</h3>
		<dl class="fa">
			<dt>List names of books written between 1950 - 1970 years order by book name, ascending</dt>
			<dt>Expected Output:</dt>
			<pre><code rel="Expected Output" class="bash">
				+---------------------------------------------------------------+----------+
				| book_name                                                     | pub_year |
				+---------------------------------------------------------------+----------+
				| Cat's Cradle                                                  | 1963     |
				| Cat's Cradle                                                  | 1963     |
				| God Bless You                                                 | 1965     |
				| God Bless You                                                 | 1965     |
				| La Guida di Bragia, a Ballad Opera for the Marionette Theatre | 1950     |
				| La Guida di Bragia, a Ballad Opera for the Marionette Theatre | 1950     |
				| Mother Night                                                  | 1961     |
				| Mother Night                                                  | 1961     |
				| Slaughterhouse                                                | 1969     |
				| Slaughterhouse                                                | 1969     |
				| The Sirens of Titan                                           | 1959     |
				| The Sirens of Titan                                           | 1959     |
				+---------------------------------------------------------------+----------+
				12 rows in set
			</code></pre>
		</dl>
	</section>
	<section><h3>Task 2</h3>
		<dl class="fa">
			<dt>Find how many books each author have written</dt>
			<dt>Expected Output</dt>
			<pre><code rel="Expected Output" class="bash">
				+----------+----------+
				| count(*) | lname    |
				+----------+----------+
				| 12       | Vonnegut |
				| 17       | Adams    |
				| 42       | Dodgson  |
				+----------+----------+
				3 rows in set
			</code></pre>
		</dl>
	</section>
</section>

<section class="disclaimer" data-background="../../../outfit/images/for_slides/the_end_on_sand.jpg">
	 <p>These slides are based on</p>
	 <p>customised version of </p>
	 <p><a href="http://hakim.se/">Hakimel</a>'s <a href="http://lab.hakim.se/reveal-js">reveal.js</a></p>
	 <p>framework</p>
</section>
<!--
########################################################
##################### SLIDES END   #####################
########################################################
-->
		</div>
	</div>
	<!-- Custom processing -->
	<script src="../../../outfit/js/slides.js"></script>
	<!-- external scripts -->
	<script src="../../../lib/reveal.js/lib/js/head.min.js"></script>
	<script src="../../../lib/reveal.js/js/reveal.js"></script>
	<!-- init reveal -->
	<script>
		// Full list of configuration options available at:
		// https://github.com/hakimel/reveal.js#configuration
		var highlightjsTabSize = '  ';
		Reveal.initialize({
			controls: true,
			progress: true,
			slideNumber: 'c/t',
			keyboard: true,
			history: true,
			center: true,
			width: '100%',
			height: '100%',
			// slide transition
			transition: 'concave', // none/fade/slide/convex/concave/zoom
			// Factor of the display size that should remain empty around the content
			margin: 0.1,
			// shift+maous click to zoom in/out element
			zoomKey: 'ctrl',
			// theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
			// transition: Reveal.getQueryHash().transition || 'default'
			// Optional reveal.js plugins
			dependencies: [
				{ src: '../../../lib/reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
				{ src: '../../../lib/reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
				{ src: '../../../lib/reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
				{ src: '../../../lib/reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.configure({tabReplace: highlightjsTabSize}); hljs.initHighlightingOnLoad(); } },
				{ src: '../../../lib/reveal.js/plugin/zoom-js/zoom.js', async: true },
				{ src: '../../../lib/reveal.js/plugin/notes/notes.js', async: true }
			]
		});
	</script>
	<!-- linkedin badge -->

</body>
</html>
